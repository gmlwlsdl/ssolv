@import 'tailwindcss';

@layer base {
  html,
  body {
    -webkit-tap-highlight-color: transparent;
    -webkit-text-size-adjust: 100%;
    touch-action: manipulation;
    font-family: 'Pretendard', sans-serif;
  }

  /* input type=search 브라우저 기본 UI 표시하지 않음 */
  input[type='search']::-webkit-search-cancel-button,
  input[type='search']::-webkit-search-decoration {
    -webkit-appearance: none;
    appearance: none;
  }
  /* IE/Edge 대응 */
  input[type='search']::-ms-clear {
    display: none;
  }

  /* 이미지/비디오 기본 리셋 */
  img,
  video {
    max-width: 100%;
    height: auto;
    display: block;
  }

  @font-face {
    font-family: 'Pretendard';
    font-weight: 100;
    font-style: normal;
    font-display: swap;
    src: url('/font/Pretendard-Thin.woff2') format('woff2');
  }

  @font-face {
    font-family: 'Pretendard';
    font-weight: 200;
    font-style: normal;
    font-display: swap;
    src: url('/font/Pretendard-ExtraLight.woff2') format('woff2');
  }

  @font-face {
    font-family: 'Pretendard';
    font-weight: 300;
    font-style: normal;
    font-display: swap;
    src: url('/font/Pretendard-Light.woff2') format('woff2');
  }

  @font-face {
    font-family: 'Pretendard';
    font-weight: 400;
    font-style: normal;
    font-display: swap;
    src: url('/font/Pretendard-Regular.woff2') format('woff2');
  }

  @font-face {
    font-family: 'Pretendard';
    font-weight: 500;
    font-style: normal;
    font-display: swap;
    src: url('/font/Pretendard-Medium.woff2') format('woff2');
  }

  @font-face {
    font-family: 'Pretendard';
    font-weight: 600;
    font-style: normal;
    font-display: swap;
    src: url('/font/Pretendard-SemiBold.woff2') format('woff2');
  }

  @font-face {
    font-family: 'Pretendard';
    font-weight: 700;
    font-style: normal;
    font-display: swap;
    src: url('/font/Pretendard-Bold.woff2') format('woff2');
  }

  @font-face {
    font-family: 'Pretendard';
    font-weight: 800;
    font-style: normal;
    font-display: swap;
    src: url('/font/Pretendard-ExtraBold.woff2') format('woff2');
  }

  @font-face {
    font-family: 'Pretendard';
    font-weight: 900;
    font-style: normal;
    font-display: swap;
    src: url('/font/Pretendard-Black.woff2') format('woff2');
  }
}

@theme {
  --color-white: #ffffff;

  /* === Neutral === */
  --color-neutral-100: #f9fafb;
  --color-neutral-200: #f4f5f6;
  --color-neutral-300: #e1e4e8;
  --color-neutral-400: #d1d5da;
  --color-neutral-500: #b8bec8;
  --color-neutral-600: #9ba3b0;
  --color-neutral-700: #8b929c;
  --color-neutral-800: #6d7581;
  --color-neutral-900: #686f7a;
  --color-neutral-1000: #626872;
  --color-neutral-1100: #5b626b;
  --color-neutral-1200: #595e65;
  --color-neutral-1300: #4f5359;
  --color-neutral-1400: #3a3d42;
  --color-neutral-1500: #1d1e20;
  --color-neutral-1600: #131416;

  /* === Saturated / Red === */
  --color-red-50: #fff5f6;
  --color-red-100: #feebec;
  --color-red-200: #fdc4c6;
  --color-red-300: #fb9397;
  --color-red-400: #f86267;
  --color-red-450: #f94842;
  --color-red-500: #f7433c;
  --color-red-600: #db0911;
  --color-red-700: #b1070e;
  --color-red-800: #89050b;
  --color-red-900: #580307;
  --color-red-1000: #272003;

  /* === Saturated / Orange === */
  --color-orange-50: #fff7f5;
  --color-orange-100: #fff0eb;
  --color-orange-200: #ffd1c2;
  --color-orange-300: #ffab8f;
  --color-orange-400: #ff7e52;
  --color-orange-500: #ff4f14;
  --color-orange-600: #e03900;
  --color-orange-700: #b82f00;
  --color-orange-800: #8f2400;
  --color-orange-900: #5c1700;
  --color-orange-1000: #290a00;

  /* === Saturated / Yellow === */
  --color-yellow-50: #fffdd5;
  --color-yellow-100: #fff6e0;
  --color-yellow-200: #ffeaad;
  --color-yellow-300: #ffe47a;
  --color-yellow-400: #ffd014;
  --color-yellow-500: #ebb800;
  --color-yellow-600: #df9600;
  --color-yellow-700: #b46500;
  --color-yellow-800: #87500a;
  --color-yellow-900: #553306;
  --color-yellow-1000: #261703;

  /* === Saturated / Green === */
  --color-green-50: #f7fdfa;
  --color-green-100: #effbf5;
  --color-green-200: #cef3e2;
  --color-green-300: #a5e9c5;
  --color-green-400: #7cdea7;
  --color-green-500: #51d48c;
  --color-green-600: #2db46c;
  --color-green-700: #25935e;
  --color-green-800: #1d724f;
  --color-green-900: #124932;
  --color-green-1000: #082115;

  /* === Saturated / Blue === */
  --color-blue-50: #f6f8fe;
  --color-blue-100: #ebeffa;
  --color-blue-200: #dde3f7;
  --color-blue-300: #cfdbf4;
  --color-blue-400: #abbced;
  --color-blue-500: #6d89f0;
  --color-blue-600: #3d62eb;
  --color-blue-700: #153ccb;
  --color-blue-800: #17308c;
  --color-blue-900: #091953;
  --color-blue-1000: #040b25;

  /* === Neutral / White === */
  --color-black-alpha-1: #00000014; /* 8% */
  --color-black-alpha-2: #0000003d; /* 24% */
  --color-black-alpha-3: #00000066; /* 40% */
  --color-black-alpha-4: #0000008f; /* 56% */
  --color-black-alpha-5: #000000b8; /* 72% */

  --color-white-alpha-1: #ffffff14; /* 8% */
  --color-white-alpha-2: #ffffff3d; /* 24% */
  --color-white-alpha-3: #ffffff66; /* 40% */
  --color-white-alpha-4: #ffffff8f; /* 56% */
  --color-white-alpha-5: #ffffffb8; /* 72% */
  --color-white-alpha-6: #ffffffe0; /* 88% */
}

@layer utilities {
  /* iOS safe-area가 필요한 영역에서 사용 가능 (임의): */
  .safe-padding {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
    padding-top: env(safe-area-inset-top);
  }

  /* dvh 안전 유틸: 지원되면 dvh, 아니면 svh → vh 폴백 */
  .min-h-screen-safe {
    min-height: 100vh;
    min-height: 100svh;
  }

  @supports (height: 100dvh) {
    .min-h-screen-safe {
      min-height: 100dvh;
    }
  }

  .h-screen-safe {
    height: 100svh;
  }
  @supports not (height: 100svh) {
    .h-screen-safe {
      height: 100vh;
    }
  }
  @supports (height: 100dvh) {
    .h-screen-safe {
      height: 100dvh;
    }
  }

  /* 내부 스크롤 영역 제스처 안정화 */
  .scroll-smooth-mobile {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
    touch-action: pan-y;
  }

  /* 기존 stage-scale-context는 유지하되, dvh 유틸과 함께 사용 가능 */
  /* 1em = 배율(px) 컨텍스트 */
  .stage-scale-context {
    /* 기본값 (props로 덮어씀) */
    --stage-base-w: 375;
    --stage-base-h: 668;

    /* 배율 제한: 1em = 1px (상한을 크게 잡아 높이 완전 맞춤) */
    --stage-min-scale: 0.5px; /* 너무 작아지는 것 방지 (원하면 조정/0px) */
    --stage-max-scale: 1000px; /* 상한 크게: tall 화면에서도 height=100dvh 보장 */

    /* 높이 기준 스케일:  font-size = 100dvh / baseH  (px 단위가 아님, '비율') */
    font-size: clamp(
      var(--stage-min-scale),
      calc(100dvh / var(--stage-base-h)),
      var(--stage-max-scale)
    );
  }

  /* dvh 미지원 브라우저 폴백 */
  @supports not (height: 100dvh) {
    .stage-scale-context {
      font-size: clamp(
        var(--stage-min-scale),
        calc(100vh / var(--stage-base-h)),
        var(--stage-max-scale)
      );
    }
  }
  .displays-1 {
    font-size: 2.875rem;
    line-height: 3.875rem;
    letter-spacing: -0.01%;
  }
  .no-scrollbar::-webkit-scrollbar {
    display: none; /* Chrome, Safari */
  }
  .no-scrollbar {
    -ms-overflow-style: none; /* IE, Edge */
    scrollbar-width: none; /* Firefox */
  }
  .mantine-DatePicker-day[data-selected] {
    background-color: #fff7f5 !important;
    color: #ff4f14 !important;
    font-weight: 600 !important;
    border-radius: 100% !important;
  }
}

/* Typography */
@utility display-1 {
  font-size: 2.875rem;
  line-height: 3.875rem;
  letter-spacing: -0.01%;
}
@utility heading-1 {
  font-size: 2.125rem;
  line-height: 3rem;
  letter-spacing: -0.01%;
}
@utility heading-2 {
  font-size: 1.75rem;
  line-height: 2.5rem;
  letter-spacing: -0.01%;
}
@utility heading-3 {
  font-size: 1.5rem;
  line-height: 2.25rem;
  letter-spacing: -0.01%;
}

@utility heading-4 {
  font-size: 1.25rem;
  line-height: 2rem;
  letter-spacing: -0.01%;
}

@utility subheading-1 {
  font-size: 1.25rem;
  line-height: 1.875rem;
  letter-spacing: -0.01%;
}
@utility subheading-2 {
  font-size: 1.125rem;
  line-height: 1.625rem;
  letter-spacing: -0.01%;
}
@utility subheading-3 {
  font-size: 1rem;
  line-height: 1.5rem;
  letter-spacing: -0.01%;
}

@utility body-1 {
  font-size: 1.25rem;
  line-height: 1.875rem;
  letter-spacing: -0.01%;
}
@utility body-2 {
  font-size: 1.125rem;
  line-height: 1.625rem;
  letter-spacing: -0.01%;
}
@utility body-3 {
  font-size: 1rem;
  line-height: 1.5rem;
  letter-spacing: -0.01%;
}
@utility label-1 {
  font-size: 0.875rem;
  line-height: 1.375rem;
  letter-spacing: -0.01%;
}
@utility label-2 {
  font-size: 0.75rem;
  line-height: 1.25rem;
  letter-spacing: -0.01%;
}

/* gradient */
@utility cta-gradient {
  background: linear-gradient(
    92deg,
    var(--Saturated-Orange-Orange400, #ff7e52) -8.76%,
    var(--Saturated-Orange-Orange500, #ff4f14) 51.95%,
    var(--Saturated-Orange-Orange400, #ff7e52) 109.25%
  );
}
@utility chip-gradient {
  background: var(
    --Chip-Gradient,
    radial-gradient(
      66.04% 70.41% at 50% 50%,
      var(--Saturated-Orange-Orange500, #ff4f14) 43.2%,
      var(--Saturated-Orange-Orange400, #ff7e52) 100%
    )
  );
}
@utility title-gradient {
  background: var(
    --Title-Gradient,
    linear-gradient(
      287deg,
      var(--Saturated-Orange-Orange600, #e03900) 5.16%,
      var(--Saturated-Orange-Orange900, #5c1700) 98.95%
    )
  );
  background-clip: text;
  color: transparent;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
@utility type-gradient {
  background: var(
    --Type-Gradient,
    linear-gradient(
      93deg,
      var(--Saturated-Orange-Orange900, #5c1700) 0.08%,
      var(--Saturated-Orange-Orange800, #8f2400) 67.57%
    )
  );
  background-clip: text;
  color: transparent;
}
@utility result-text-gradient {
  background: linear-gradient(
    135deg,
    var(--Saturated-Orange-Orange600, #e03900) 0%,
    var(--Saturated-Orange-Orange900, #5c1700) 50%,
    var(--Saturated-Orange-Orange600, #e03900) 100%
  );
  background-size: 200% 200%;
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;
  animation: result-text-flow 1.5s ease-in-out infinite;
  animation-delay: 0s;
}

@utility skeleton-gradient {
  background: linear-gradient(224.49deg, #e5e7eb 3.05%, #f4f5f6 96.12%);
}

@keyframes result-text-flow {
  0% {
    background-position: 100% 50%;
  }
  100% {
    background-position: -100% 50%;
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@utility animate-slide-up {
  animation: slide-up 0.3s ease-out forwards;
}

/** 버튼에 배경에 사용되는 그라데이션, 스크롤시 경계선이 보이지 않도록 사용 */
@utility button-area {
  background: linear-gradient(
    180deg,
    rgba(255, 209, 194, 0) 0%,
    var(--Saturated-Orange-Orange200, #ffd1c2) 47.6%
  );
}

@utility background-1 {
  background: var(
    --Background-01,
    linear-gradient(
      180deg,
      var(--Neutral-White-White100, #fff) 20.01%,
      var(--Saturated-Orange-Orange100, #fff0eb) 60%,
      var(--Saturated-Orange-Orange50, #fff7f5) 99.98%
    )
  );
}
@utility background-2 {
  background: var(
    --Background-02,
    linear-gradient(
      180deg,
      var(--Neutral-White-White100, #fff) 20%,
      var(--Saturated-Orange-Orange200, #ffd1c2) 60%,
      var(--Saturated-Orange-Orange100, #fff0eb) 100%
    )
  );
}
@utility background-3 {
  background: var(
    --Background-03,
    linear-gradient(
      180deg,
      #fff 0%,
      var(--Saturated-Orange-Orange100, #fff0eb) 50%,
      var(--Saturated-Yellow-Yellow100, #fff6e0) 100%
    )
  );
}

@utility gathering-card {
  background: var(
    --Gathering-Card,
    linear-gradient(
      180deg,
      var(--Saturated-Yellow-Yellow50, #fffdf5) 20%,
      var(--Saturated-Orange-Orange50, #fff7f5) 100%
    )
  );
}

/* 그 외 전역 리셋/유틸은 기존 그대로 두면 됩니다 */
